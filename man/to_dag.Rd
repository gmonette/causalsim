% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/causalsim.R
\name{to_dag}
\alias{to_dag}
\title{Transform a matrix of causal coefficients to a DAG}
\usage{
to_dag(mat)
}
\arguments{
\item{mat}{a square matrix with variable names
for rows and columns. Off-diagonal entries
are causal coefficients for the row
variable depending on the column variables.
The diagonal elements are standard deviations
of the the independent component producing
variability in the row variable.}
}
\value{
If the input matrix represents a DAG,
       the input matrix with permuted rows and
       columns as a lower diagonal matrix. Thus
       data from the DAG can be generated by
       simulating variables in the same order
       as the row order. If the input matrix
       cannot define a DAG (i.e. is not
       acyclic) the function return FALSE.
}
\description{
A square matrix containing causal coefficients with 
standard deviation of unique components on the
diagonal is transformed into a lower-triangular
matrix by permutations of its rows and columns,
if possible. Otherwise an error is produced.
}
\details{
See \code{\link{coefx}} for an extended example.
}
\examples{
vars <- c('d','o','a','y')  # from Cunningham, S. (2021) Causal Inference: The Mixtape, p. 107
# d is discrimination (causal variable of interest)
# o is occupational stratification
# a is individual ability
# y is individual income (outcome)
#
# DAG is:   d -> o <- a -> y
#
mat <- matrix(0, length(vars), length(vars), 
     dimnames = list(vars,vars))
mat['y','a'] <- mat['o','a'] <- mat['o','d'] <- 1
diag(mat) <- 3   # unique variance
mat
to_dag(mat)  
# 
# What if a matrix does not represent a DAG (i.e. has a cycle)
#
mat['d','o'] <- 1
to_dag(mat)
mat['d','o'] <- 0
dag <- to_dag(mat)
coefx(y ~ d, dag)


}
